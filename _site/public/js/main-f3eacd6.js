(()=>{var h={SHUFFLE_STEPS:20,ANIMTIMEOUT:1},f=!1,w=e=>{let t=document.querySelector("#entry");t.value=e.join("\n")},q=e=>{for(let t in e)Object.hasOwn(e,t)&&(document.querySelector("#item".concat(t)).textContent=e[t])},x=e=>{let o=new URLSearchParams(e).get("items"),n=!1;if(o){console.log("hooray");let s=o.split("^");console.log("itemsArray.length: ".concat(s.length)),s.length===16&&(q(s),w(s),n=!0)}n||y()},y=()=>{console.log("entry box");let e=document.querySelector(".container"),t=document.querySelector(".entry-box"),o=document.querySelector("nav");e.classList.add("hide"),t.classList.remove("hide"),o.classList.add("hide")},I=()=>{let e=document.location.search;e?x(e):y()},E=e=>{console.log("drag starts");let t=e.target,o=t.closest(".droptarget"),n="".concat(t.id,"-").concat(o.id);console.log(n),e.dataTransfer.setData("text/plain",n),window.setTimeout(()=>{t.classList.add("dragging")},0)},$=e=>{e.preventDefault(),e.target.classList.add("drag-over")},b=e=>{e.preventDefault(),e.target.classList.add("drag-over")},z=e=>{e.target.classList.remove("drag-over")},O=e=>{let t=e.target,o=t.classList.contains("droptarget")?t:t.closest(".droptarget");console.log("dropTarget.id: ".concat(o.id)),o.classList.remove("drag-over");let n=e.dataTransfer.getData("text/plain"),s=n.split("-")[0],c=n.split("-")[1];console.log("dropId: ".concat(s)),console.log("sourceId: ".concat(c));let d=document.querySelector("#".concat(s)),i=document.querySelector("#".concat(c)),r=o.querySelector(".dragme");console.log("this should be the one that gets shoved out"),console.log(r);let l=o.removeChild(r);console.log("displaced.id: ".concat(l.id)),i.append(l),l.classList.remove("drag-over"),o.appendChild(d),d.classList.remove("dragging")},L=()=>{console.log("noop")},C=()=>{let e=document.querySelectorAll(".dragme");for(let t of e)t.addEventListener("dragstart",E),t.addEventListener("dragenter",L),t.addEventListener("dragover",L)},N=()=>{let e=document.querySelectorAll(".droptarget");for(let t of e)t.addEventListener("dragenter",$),t.addEventListener("dragover",b),t.addEventListener("dragleave",z),t.addEventListener("drop",O)},B=e=>{let t=document.querySelector(".container");e.target.checked?t.classList.add("nyt-col"):t.classList.remove("nyt-col")},k=()=>{document.querySelector("#nytc").addEventListener("change",B)},D=()=>{console.log("go!");let e=document.querySelector("#entry").value;console.log(e);let t=e.split("\n");if(t.length===16){let o=[];for(let n of t){let s=n.replace(/\^/gm,"");o.push(encodeURIComponent(s.trim()))}document.location="/?items=".concat(o.join("^"))}else console.log("must enter 16 things")},M=()=>{let e=document.querySelector(".container"),t=document.querySelector(".entry-box"),o=document.querySelector("nav");e.classList.remove("hide"),t.classList.add("hide"),o.classList.remove("hide")},U=()=>{y()},v=e=>{let t=document.querySelector("#whizz1"),n=Number.parseInt(t.style.left,10)-e.stepSizeX;t.style.left="".concat(n,"px");let c=Number.parseInt(t.style.top,10)-e.stepSizeY;t.style.top="".concat(c,"px");let d=document.querySelector("#whizz2"),r=Number.parseInt(d.style.left,10)+e.stepSizeX;d.style.left="".concat(r,"px");let u=Number.parseInt(d.style.top,10)+e.stepSizeY;if(d.style.top="".concat(u,"px"),e.currStep===e.steps){let a=document.querySelector("#item".concat(e.a)),p=a.textContent,m=document.querySelector("#item".concat(e.b)),g=m.textContent;a.textContent=g,m.textContent=p,document.querySelector("#whizz1").remove(),document.querySelector("#whizz2").remove(),S(e.iteration+1)}else window.setTimeout(()=>{v({a:e.a,b:e.b,firstTop:e.firstTop,secondItem:e.secondItem,secondLeft:e.secondLeft,secondTop:e.secondTop,stepSizeX:e.stepSizeX,stepSizeY:e.stepSizeY,currStep:e.currStep+1,steps:e.steps,iteration:e.iteration})},h.ANIMTIMEOUT)},X=(e,t,o)=>{let n=document.querySelector("#item".concat(e)),s=document.querySelector("#item".concat(t)),c=n.cloneNode(!0),d=n.offsetLeft,i=n.offsetTop;c.id="whizz1",c.classList.add("whee"),c.style.position="absolute",c.style.left="".concat(d,"px"),c.style.top="".concat(i,"px"),document.body.append(c);let r=s.cloneNode(!0),l=s.offsetLeft,u=s.offsetTop;r.id="whizz2",r.classList.add("whee"),r.style.position="absolute",r.style.left="".concat(l,"px"),r.style.top="".concat(u,"px"),document.body.append(r);let a=h.SHUFFLE_STEPS,p=d-l,m=i-u,g=p/a,T=m/a;v({a:e,b:t,firstTop:i,secondItem:s,secondLeft:l,secondTop:u,stepSizeX:g,stepSizeY:T,currStep:1,steps:a,iteration:o})},S=e=>{if(e<16){f=!0;let t=e,o=Math.floor(Math.random()*16);t===o?S(e):X(t,o,e)}else f=!1},Y=()=>{document.querySelector("#go").addEventListener("click",D),document.querySelector("#cancel").addEventListener("click",M),document.querySelector("#update").addEventListener("click",U),document.querySelector("#shuffle").addEventListener("click",()=>{f||S(0)})},A=()=>{console.log("JS loaded"),C(),N(),k(),Y(),I()};window.addEventListener("load",A);})();
//# sourceMappingURL=main-f3eacd6.js.map */
